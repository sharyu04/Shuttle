import React, { useEffect } from "react";
import { useNavigate } from "react-router-dom";
import Navbar from "../../components/Navbar"
import ScheduleList from "../../components/ScheduleList"
import { IContext, MyContext } from "../../MyContext";

const Schedule = () => {
    
    const navigate = useNavigate()
    const {handleSetToken,handleSetUser, user } = React.useContext(MyContext) as IContext;
    useEffect(()=>{
            const token = localStorage.getItem("token")
            console.log(token)
            if( token !== null){
handleSetToken(token)
                }
            const userLocalStorage = localStorage.getItem("user")
            console.log(userLocalStorage)
            if (user === null){
                   navigate("/login") 
                }
        })
    return (
        <>
            <Navbar />
            <ScheduleList/>
        </>
    )
}
export default Schedule
